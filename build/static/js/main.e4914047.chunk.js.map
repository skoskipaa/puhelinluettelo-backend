{"version":3,"sources":["components/Person.js","components/Contacts.js","components/FilterForm.js","components/ContactForm.js","services/persons.js","App.js","index.js"],"names":["Person","person","deleteContact","name","number","onClick","rows","filterByName","persons","filter","toLowerCase","includes","map","key","id","Contacts","FilterForm","onChange","value","ContactForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","message","setMessage","useEffect","personService","initialPersons","className","event","target","preventDefault","personObject","p","pers","find","persId","changedPers","window","confirm","returnedPers","setTimeout","catch","error","console","log","concat","toString","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e4914047.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, deleteContact }) => {\n    return (\n        <li>\n            {person.name} {person.number}\n            <button onClick={deleteContact}>Delete</button>\n        </li>\n\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Contacts = ({filterByName, persons, deleteContact }) => {\n    return (\n        <ul>\n          {rows({filterByName, persons, deleteContact })}\n        </ul>\n      )\n    }\n    \n    const rows = ({filterByName, persons, deleteContact }) => persons.filter(person =>\n          {\n            return person.name.toLowerCase().includes(filterByName.toLowerCase())\n          }).map(person =>\n            <Person \n               key={person.id}\n               person={person}\n               deleteContact={() => deleteContact(person.id)}\n            />\n            )\n\nexport default Contacts","import React from 'react'\n\nconst FilterForm = ( {onChange, value} ) => {\n    return (\n      <div>\n        <input \n            value={value}\n            onChange={onChange}/>\n      </div>\n    )\n  }\n\n  export default FilterForm","import React from 'react'\n\nconst ContactForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n          <div>\n            name: <input \n                    value={props.newName}\n                    onChange={props.handleNameChange}/>    \n          </div>\n          <div>\n              number: <input\n                        value={props.newNumber}\n                        onChange={props.handleNumberChange}/>\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n    )\n}\n\nexport default ContactForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst removeContact = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, removeContact, update }","import React, { useState, useEffect } from 'react'\nimport Contacts from './components/Contacts'\nimport FilterForm from './components/FilterForm'\nimport ContactForm from './components/ContactForm'\nimport personService from './services/persons'\n\nconst App = () => {\n    const [ persons, setPersons] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber] = useState('')\n    const [ filterByName, setFilter ] = useState('')\n    const [ message, setMessage ] = useState(null)\n\n    useEffect(() => {\n      personService\n          .getAll()\n          .then(initialPersons => {\n            setPersons(initialPersons)\n          })\n    }, [])\n\n    const handleFilter = (event) => {\n        setFilter(event.target.value)\n    }\n    \n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        \n        const personObject = {\n            name: newName,\n            number: newNumber\n        }\n\n        const names = persons.map(p =>\n          p.name.toLowerCase())\n\n        if (names.includes(personObject.name.toLowerCase())) {\n          const pers = persons.find(p => p.name.toLowerCase() === personObject.name.toLowerCase())\n          const persId = pers.id\n          const changedPers = { ...pers, number: personObject.number }\n\n          if (window.confirm(`${pers.name} is already in the phonebook! Replace number?`)) {\n            personService\n              .update(persId, changedPers)\n              .then(returnedPers => {\n                setPersons(persons.map(p => p.id !== persId ? p : returnedPers))\n                setMessage(`Number changed for ${pers.name}`)\n                setTimeout(() => {\n                  setMessage(null)\n                }, 5000);\n              })\n              .catch(error => console.log('Pieleen män'))\n          }\n\n\n        } else {\n            personService\n              .create(personObject)\n              .then(returnedPers => {\n                setPersons(persons.concat(returnedPers))\n                setMessage(`${returnedPers.name} was added to the phonebook.`)\n                setTimeout(() => {\n                  setMessage(null)\n                }, 5000)\n              })\n              .catch(error => {\n                setMessage(`Fail: ${error.response.data.error.toString()}`)\n                setTimeout(() => {\n                  setMessage(null)\n                }, 5000)\n              })\n        }\n\n        setNewName('')\n        setNewNumber('')\n      }\n\n    const deleteContact = id => {\n      const pers = persons.find(p => p.id === id)\n      if (window.confirm(`Delete ${pers.name} ?`)) {\n      console.log(`deleting contact with id ${id}`)\n      personService\n        .removeContact(id)\n        .then(setPersons(persons.filter(person => person.id !== id)))\n        .then(setMessage(`${pers.name} have been removed.`))\n        .then(setTimeout(() => {\n          setMessage(null)\n        }, 5000))\n        .catch(error => {\n          setMessage(`Fail: ${pers.name} has already been removed from server!`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000);\n        })\n        }\n    }\n\n    const Notification = ({ message }) => {\n      if (message === null) {\n        return null\n      \n      } else if (message.includes('Fail')) {\n        return (\n          <div className=\"error\">\n            {message}\n          </div>\n        )\n      }\n\n      return (\n        <div className=\"success\">\n          {message}\n        </div>\n      )\n    }\n\n    return (\n      <div>\n        <h1>Phonebook</h1>\n        <Notification message={message} />\n        <h2>Filter contacts by name</h2>\n        <FilterForm onChange={handleFilter} value={filterByName} />\n        <h2>Add a new contact</h2>\n        <ContactForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange}\n                     newNumber={newNumber} handleNumberChange={handleNumberChange} />\n        <h2>Numbers</h2>\n        <Contacts filterByName={filterByName} persons={persons} deleteContact={deleteContact}/>\n      </div>\n    )\n  }\n  \n  export default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}